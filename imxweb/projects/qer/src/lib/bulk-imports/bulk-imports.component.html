<h1>{{ '#LDS#Bulk Actions' | translate }}</h1>


<div class="search-container">
  <mat-form-field class="search-input" appearance="outline" >
      <eui-icon icon="search" class="search-icon"></eui-icon>
 
    <input matInput [(ngModel)]="searchText" (keyup)="applyFilter()" class="search-text">

  </mat-form-field> 

  <mat-form-field class="dropdown-menu" appearance="outline" >
      <mat-label>Select an option</mat-label>
      <div>
        <mat-select>
          <mat-option value="business_roles">Business Roles</mat-option>
          <mat-option value="identities">Identities</mat-option>
        </mat-select>
    </div>
  </mat-form-field>

</div>

<div class="imx-main-container">
  <div *ngIf="csvData.length === 0" id="dropZone" (dragover)="onDragOver($event)" (drop)="onDrop($event)" class="imx-no-data">
      <eui-icon icon="table"></eui-icon>
    <label for="csvFileInput" class="label-no-data">
        <h2>Drag and drop a CSV file here <br>
        or click here to browse.</h2>
    </label>
    <input type="file" id="csvFileInput" (change)="onFileSelected($event)" style="display: none;" accept=".csv">
  </div>

    
  <div class="table-container">
      <mat-table *ngIf="csvData.length > 0" class="csv-table" [dataSource]="displayedData">
        <ng-container *ngFor="let header of headers" [matColumnDef]="header">
          <mat-header-cell *matHeaderCellDef>{{ header }}</mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row[header] }}</mat-cell>
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="headers"></mat-header-row>
        <mat-row *matRowDef="let row; columns: headers"></mat-row>
      </mat-table>
      <mat-paginator  [pageSize]="itemsPerPage" [pageSizeOptions]="[20, 50, 100]" [length]="totalItems" (page)="onPageChange($event)"></mat-paginator>
  </div>
</div>

<div class="button-bar">
  <button
      mat-raised-button
      color="accent"
    >
    <!--[disabled]="!fileLoaded"
    (click)="replaceCsv()"-->
      Remove CSV
  </button>
  <button
      mat-raised-button
      color="warn" (click)="openDialog()"
    >
    <!--[disabled]="!fileLoaded || selectedOptionKey === null"
    (click)="onValidateClicked(selectedOptionKey)"-->
      Validate
  </button>
  <button
      mat-raised-button
      color="primary"
      [disabled]="!isButtonEnabled"
    >
    <!--[disabled]="!allRowsValidated || validating || initializing || !fileLoaded"
    (click)="importToDatabase(selectedOptionKey)"-->
      Import to database
  </button>
</div>

